{
    "key_": "nndeploy.dag.Graph",
    "name_": "Face_Swap_From_Camera",
    "developer_": "Always",
    "source_": "https://github.com/hacksider/Deep-Live-Cam",
    "desc_": "Face swap workflow integrating face swap and GAN for face swapping, supports swapping multiple faces from camera",
    "device_type_": "kDeviceTypeCodeCpu:0",
    "version_": "1.0.0",
    "required_params_": [],
    "ui_params_": [],
    "is_dynamic_input_": false,
    "inputs_": [],
    "is_dynamic_output_": false,
    "outputs_": [],
    "is_graph_": true,
    "parallel_type_": "kParallelTypeNone",
    "is_inner_": false,
    "node_type_": "Intermediate",
    "is_time_profile_": false,
    "is_debug_": false,
    "is_external_stream_": false,
    "is_graph_node_share_stream_": true,
    "queue_max_size_": 16,
    "is_loop_max_flag_": true,
    "loop_count_": -1,
    "image_url_": [
        "template[http,modelscope]@https://template.cn/template.jpg"
    ],
    "video_url_": [
        "template[http,modelscope]@https://template.cn/template.mp4"
    ],
    "audio_url_": [
        "template[http,modelscope]@https://template.cn/template.mp3"
    ],
    "model_url_": [
        "modelscope@nndeploy/nndeploy:face_swap/inswapper_128_fp16.onnx",
        "modelscope@nndeploy/nndeploy:face_swap/GFPGANv1.4.pth"
    ],
    "other_url_": [
        "template[http,modelscope]@https://template.cn/template.txt"
    ],
    "node_repository_": [
        {
            "key_": "nndeploy.face.FaceIdMap",
            "name_": "FaceIdMap_55",
            "developer_": "",
            "source_": "",
            "desc_": "FaceIdMap: map face id from image",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [],
            "ui_params_": [],
            "is_dynamic_input_": true,
            "inputs_": [
                {
                    "desc_": "input_0",
                    "type_": "list[Any]",
                    "name_": "InsightImageFaceId_59@output_0"
                },
                {
                    "desc_": "input_1",
                    "type_": "list[Face]",
                    "name_": "InsightFaceAnalysis_70@output_0"
                }
            ],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "list[Any]",
                    "name_": "FaceIdMap_55@output_0"
                }
            ],
            "node_type_": "Intermediate",
            "map_ids_": [
                -1
            ],
            "node_repository_": [],
            "size": {
                "width": 200,
                "height": 80
            }
        },
        {
            "key_": "nndeploy.face.InsightImageFaceId",
            "name_": "InsightImageFaceId_59",
            "developer_": "",
            "source_": "",
            "desc_": "InsightFace Id: get face id from image, 人脸排序的规则是[x_min, y_min]，即左上角的人脸来排序",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [
                {
                    "desc_": "input_0",
                    "type_": "ndarray",
                    "name_": "OpenCvImageDecode_66@output_0"
                },
                {
                    "desc_": "input_1",
                    "type_": "list[Face]",
                    "name_": "InsightFaceAnalysis_69@output_0"
                }
            ],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "list[Any]",
                    "name_": "InsightImageFaceId_59@output_0"
                }
            ],
            "node_type_": "Intermediate",
            "faces_path_": "resources/images/",
            "node_repository_": [],
            "size": {
                "width": 200,
                "height": 80
            }
        },
        {
            "key_": "nndeploy.gan.GFPGAN",
            "name_": "GFPGAN_53",
            "developer_": "",
            "source_": "",
            "desc_": "GFPGAN: Make faces clearer",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [
                "model_path_"
            ],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [
                {
                    "desc_": "input_0",
                    "type_": "ndarray",
                    "name_": "CameraInsightFaceSwapperWithMap_64@output_0"
                }
            ],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "ndarray",
                    "name_": "GFPGAN_53@output_0"
                }
            ],
            "node_type_": "Intermediate",
            "model_path_": "resources/models/face_swap/GFPGANv1.4.pth",
            "upscale_": 1,
            "node_repository_": [],
            "size": {
                "width": 200,
                "height": 80
            }
        },
        {
            "key_": "nndeploy.face.CameraInsightFaceSwapperWithMap",
            "name_": "CameraInsightFaceSwapperWithMap_64",
            "developer_": "",
            "source_": "",
            "desc_": "InsightFace Swapper: swap face from Camera",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [
                "model_path_"
            ],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [
                {
                    "desc_": "input_0",
                    "type_": "ndarray",
                    "name_": "OpenCvImageDecode_65@output_0"
                },
                {
                    "desc_": "input_1",
                    "type_": "list[Face]",
                    "name_": "InsightFaceAnalysis_68@output_0"
                },
                {
                    "desc_": "input_2",
                    "type_": "list[Any]",
                    "name_": "FaceIdMap_55@output_0"
                }
            ],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "ndarray",
                    "name_": "CameraInsightFaceSwapperWithMap_64@output_0"
                }
            ],
            "node_type_": "Intermediate",
            "mouth_mask_": false,
            "show_mouth_mask_box_": false,
            "mask_down_size_": 0.5,
            "mask_feather_ratio_": 8,
            "mask_size_": 1,
            "model_path_": "resources/models/face_swap/inswapper_128_fp16.onnx",
            "providers_": [
                "CPUExecutionProvider"
            ],
            "distance_threshold_": 0.6,
            "node_repository_": [],
            "size": {
                "width": 200,
                "height": 80
            }
        },
        {
            "key_": "nndeploy::codec::OpenCvImageDecode",
            "name_": "OpenCvImageDecode_65",
            "developer_": "",
            "source_": "",
            "desc_": "Decode image using OpenCV, from image path to cv::Mat, default color space is BGR",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [
                "path_"
            ],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "ndarray",
                    "name_": "OpenCvImageDecode_65@output_0"
                }
            ],
            "node_type_": "Input",
            "io_type_": "Image",
            "path_": "resources/template/nndeploy-workflow/face_swap/kongfu.jpg",
            "size": {
                "width": 200,
                "height": 80
            },
            "node_repository_": []
        },
        {
            "key_": "nndeploy::codec::OpenCvImageDecode",
            "name_": "OpenCvImageDecode_66",
            "developer_": "",
            "source_": "",
            "desc_": "Decode image using OpenCV, from image path to cv::Mat, default color space is BGR",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [
                "path_"
            ],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "ndarray",
                    "name_": "OpenCvImageDecode_66@output_0"
                }
            ],
            "node_type_": "Input",
            "io_type_": "Image",
            "path_": "resources/template/nndeploy-workflow/face_swap/kongfu_zhou.jpg",
            "size": {
                "width": 200,
                "height": 80
            },
            "node_repository_": []
        },
        {
            "key_": "nndeploy::codec::OpenCvImageDecode",
            "name_": "OpenCvImageDecode_67",
            "developer_": "",
            "source_": "",
            "desc_": "Decode image using OpenCV, from image path to cv::Mat, default color space is BGR",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [
                "path_"
            ],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "ndarray",
                    "name_": "OpenCvImageDecode_67@output_0"
                }
            ],
            "node_type_": "Input",
            "io_type_": "Image",
            "path_": "resources/template/nndeploy-workflow/face_swap/speed.png",
            "size": {
                "width": 200,
                "height": 80
            },
            "node_repository_": []
        },
        {
            "key_": "nndeploy.face.InsightFaceAnalysis",
            "name_": "InsightFaceAnalysis_68",
            "developer_": "",
            "source_": "",
            "desc_": "InsightFace Analysis: get face analysis from image",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [
                {
                    "desc_": "input_0",
                    "type_": "ndarray",
                    "name_": "OpenCvImageDecode_65@output_0"
                }
            ],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "list[Face]",
                    "name_": "InsightFaceAnalysis_68@output_0"
                }
            ],
            "node_type_": "Intermediate",
            "insightface_name_": "buffalo_l",
            "providers_": [
                "CPUExecutionProvider"
            ],
            "is_one_face_": true,
            "ctx_id": 0,
            "det_thresh_": 0.5,
            "size": {
                "width": 200,
                "height": 80
            },
            "node_repository_": []
        },
        {
            "key_": "nndeploy.face.InsightFaceAnalysis",
            "name_": "InsightFaceAnalysis_69",
            "developer_": "",
            "source_": "",
            "desc_": "InsightFace Analysis: get face analysis from image",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [
                {
                    "desc_": "input_0",
                    "type_": "ndarray",
                    "name_": "OpenCvImageDecode_66@output_0"
                }
            ],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "list[Face]",
                    "name_": "InsightFaceAnalysis_69@output_0"
                }
            ],
            "node_type_": "Intermediate",
            "insightface_name_": "buffalo_l",
            "providers_": [
                "CPUExecutionProvider"
            ],
            "is_one_face_": true,
            "ctx_id": 0,
            "det_thresh_": 0.5,
            "size": {
                "width": 200,
                "height": 80
            },
            "node_repository_": []
        },
        {
            "key_": "nndeploy.face.InsightFaceAnalysis",
            "name_": "InsightFaceAnalysis_70",
            "developer_": "",
            "source_": "",
            "desc_": "InsightFace Analysis: get face analysis from image",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [
                {
                    "desc_": "input_0",
                    "type_": "ndarray",
                    "name_": "OpenCvImageDecode_67@output_0"
                }
            ],
            "is_dynamic_output_": false,
            "outputs_": [
                {
                    "desc_": "output_0",
                    "type_": "list[Face]",
                    "name_": "InsightFaceAnalysis_70@output_0"
                }
            ],
            "node_type_": "Intermediate",
            "insightface_name_": "buffalo_l",
            "providers_": [
                "CPUExecutionProvider"
            ],
            "is_one_face_": true,
            "ctx_id": 0,
            "det_thresh_": 0.5,
            "size": {
                "width": 200,
                "height": 80
            },
            "node_repository_": []
        },
        {
            "key_": "nndeploy::codec::OpenCvImageEncode",
            "name_": "OpenCvImageEncode_71",
            "developer_": "",
            "source_": "",
            "desc_": "Encode image using OpenCV, from cv::Mat to image file, supports common image formats",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [
                "path_"
            ],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [
                {
                    "desc_": "input_0",
                    "type_": "ndarray",
                    "name_": "CameraInsightFaceSwapperWithMap_64@output_0"
                }
            ],
            "is_dynamic_output_": false,
            "outputs_": [],
            "node_type_": "Output",
            "io_type_": "Image",
            "path_": "resources/images/result.face_swap_camara.png",
            "size": {
                "width": 200,
                "height": 80
            },
            "node_repository_": []
        },
        {
            "key_": "nndeploy::codec::OpenCvImageEncode",
            "name_": "OpenCvImageEncode_72",
            "developer_": "",
            "source_": "",
            "desc_": "Encode image using OpenCV, from cv::Mat to image file, supports common image formats",
            "device_type_": "kDeviceTypeCodeCpu:0",
            "version_": "1.0.0",
            "required_params_": [
                "path_"
            ],
            "ui_params_": [],
            "is_dynamic_input_": false,
            "inputs_": [
                {
                    "desc_": "input_0",
                    "type_": "ndarray",
                    "name_": "GFPGAN_53@output_0"
                }
            ],
            "is_dynamic_output_": false,
            "outputs_": [],
            "node_type_": "Output",
            "io_type_": "Image",
            "path_": "resources/images/result.face_swap_gan_camara.png",
            "size": {
                "width": 200,
                "height": 80
            },
            "node_repository_": []
        }
    ],
    "nndeploy_ui_layout": {
        "layout": {
            "FaceIdMap_55": {
                "x": 262.6454372552871,
                "y": -34.83975016722789
            },
            "InsightImageFaceId_59": {
                "x": -0.032741293758697054,
                "y": -127.03975016722791
            },
            "GFPGAN_53": {
                "x": 838.6033361341327,
                "y": 61.86024983277211
            },
            "CameraInsightFaceSwapperWithMap_64": {
                "x": 561.4505367463371,
                "y": -399.59054623495143
            },
            "OpenCvImageDecode_65": {
                "x": -547.6584183942475,
                "y": -542.928977864134
            },
            "OpenCvImageDecode_66": {
                "x": -547.6584183942475,
                "y": -189.779176471629
            },
            "OpenCvImageDecode_67": {
                "x": -547.6584183942475,
                "y": 237.54507420851328
            },
            "InsightFaceAnalysis_68": {
                "x": -241.7923206355637,
                "y": -407.4805113786079
            },
            "InsightFaceAnalysis_69": {
                "x": -262.7109198428045,
                "y": -73.5500215732288
            },
            "InsightFaceAnalysis_70": {
                "x": -262.7109198428045,
                "y": 162.64507420851328
            },
            "OpenCvImageEncode_71": {
                "x": 1069.2575356277778,
                "y": -315.46983271595315
            },
            "OpenCvImageEncode_72": {
                "x": 1191.0911242495383,
                "y": 61.86024983277211
            }
        },
        "groups": []
    }
}